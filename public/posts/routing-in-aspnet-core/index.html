<!DOCTYPE html>
<html lang="en-us">
<head>
	<title>Routing in ASP.NET Core</title>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="ASP.NET Core is starting to be a good choice for new web projects. In this post, I will show you how to make a simple route in an empty ASP.NET Core application.">
	<meta property="article:published_time" content="17-07-2017 00:00:00">

	<link async href="https://fonts.googleapis.com/css2?family=Jura:wght@300;400;500;600;700" rel="stylesheet"> 
	<link async rel="stylesheet" href="/css/main.css" type="text/css" />
	<link async rel="icon" href="/favicon.ico">

	<script async src="https://kit.fontawesome.com/0d71694d01.js" crossorigin="anonymous"></script>
</head>
<body>
	<div class="grid-container">
		<header class="header">
    <div class="header-collection">
        <div class="header-item">
            <a class="header-item__link" href="/">
                <h1 class="header-item__title">Rune Nielsen | Freelance Software Developer</h1>
            </a>
        </div>     
    </div>
    <div class="header-collection">
        <div class="header-item">
            <a class="header-item__link" target="_blank" href="https://github.com/runeanielsen">
                <p class="header-item__icon">
                    <i class="fab fa-github-square"></i>
                </p>
            </a>
        </div>
        <div class="header-item">
            <a class="header-item__link" target="_blank" href="https://twitter.com/runeanielsen">
                <p class="header-item__icon">
                    <i class="fab fa-twitter-square"></i> 
                </p>
            </a>
        </div>
        <div class="header-item">
            <a class="header-item__link" target="_blank" href="https://linkedin.com/in/runeanielsen">
                <p class="header-item__icon">
                    <i class="fab fa-linkedin"></i>
                </p> 
            </a>
        </div>    
    </div>
</header>

		
<div class="blog-post">
    <div class="blog-post__content">
        <p>ASP.NET Core is starting to be a good choice for new web projects. In this post, I will show you how to make a simple route in an empty ASP.NET Core application.</p>
<p>Start by creating a new solution as shown below, so choose “Web” and pick the ASP.NET Core Web Application (.NET Framework).</p>
<p><img src="/blogpost/41dfe83d-7db6-4135-b72d-ae3d5b0497ba.png" alt="Display NuGet package manager"></p>
<p>When your solution is ready, go to the project.json file, it is the file where all your project dependencies will be in. Add “Microsoft.AspNetCore.Mvc”: “1.0.0-rc2-final” (or the newest version) so your dependencies should look like the code below.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#e6db74">&#34;dependencies&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> {
    <span style="color:#f92672">&#34;Microsoft.AspNetCore.Server.IISIntegration&#34;</span>: <span style="color:#e6db74">&#34;1.0.0-rc2-final&#34;</span>,
    <span style="color:#f92672">&#34;Microsoft.AspNetCore.Server.Kestrel&#34;</span>: <span style="color:#e6db74">&#34;1.0.0-rc2-final&#34;</span>,
    <span style="color:#f92672">&#34;Microsoft.AspNetCore.Mvc&#34;</span>: <span style="color:#e6db74">&#34;1.0.0-rc2-final&#34;</span>
}
</code></pre></div><p>When you save the solution the dependencies will automatically be downloaded and added to the project.</p>
<p>Next, go into your Startup.cs file. Go to the “ConfigureService” method and add the following code so it looks like the code below.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> ConfigureServices(IServiceCollection services)
{
    services.AddMvc();
}
</code></pre></div><p>The reason that we have to do this is because we need to tell our dependency injection container (IServiceCollection), that we want to use MVC and therefore bind it to the container.</p>
<p>When that is done, go down to the “Configure” method in the same file, and remove the default code and add the following.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Configure(IApplicationBuilder app)
{
    app.UseMvc(routes =&gt;
    {
        routes.MapRoute(
            name: <span style="color:#e6db74">&#34;Default&#34;</span>,
            template: <span style="color:#e6db74">&#34;{controller}/{action}/{id?}&#34;</span>,
            defaults: <span style="color:#66d9ef">new</span> { controller = <span style="color:#e6db74">&#34;Home&#34;</span>, action = <span style="color:#e6db74">&#34;Index&#34;</span> }
        );
    });
}
</code></pre></div><p>So on the “app” variable we use the “UseMvc” method and pass a lambda expression in which we define our default route. It contains the name of the route, in our case “Default”, the “template” of the route containing a controller, action, and an optional id, and it is optional because the string contains a question mark(?), so if you don’t want it to be optional remove the question mark, and last the “defaults” which will be the route to your homepage.</p>
<p>So now you can go and create a controller and an action, and your application should handle the routing.</p>
   
    </div>
</div>

		<footer class="footer">
</footer>
	
	</div>
</body>
</html>
